!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("vue-demi")):"function"==typeof define&&define.amd?define(["vue-demi"],n):(e||self)["v-click-outside"]=n(e.vueDemi)}(this,function(e){var n,t=e.isVue3?"updated":"update",i=e.isVue3?"unmounted":"unbind",r="__v-click-outside",a="undefined"!=typeof window,d="undefined"!=typeof navigator,o=a&&("ontouchstart"in window||d&&navigator.msMaxTouchPoints>0)?["touchstart"]:["click"];function u(e){var n=e.event,t=e.handler;(0,e.middleware)(n)&&t(n)}function c(e,n){var t=function(e){var n="function"==typeof e;if(!n&&"object"!=typeof e)throw new Error("v-click-outside: Binding value must be a function or an object");return{handler:n?e:e.handler,middleware:e.middleware||function(e){return e},events:e.events||o,isActive:!(!1===e.isActive),detectIframe:!(!1===e.detectIframe),capture:!!e.capture}}(n.value),i=t.handler,a=t.middleware,d=t.detectIframe,c=t.capture;if(t.isActive){if(e[r]=t.events.map(function(n){return{event:n,srcTarget:document.documentElement,handler:function(n){return function(e){var n=e.el,t=e.event,i=e.handler,r=e.middleware,a=t.composedPath&&t.composedPath()||t.path;(a?a.indexOf(n)<0:!n.contains(t.target))&&u({event:t,handler:i,middleware:r})}({el:e,event:n,handler:i,middleware:a})},capture:c}}),d){var l={event:"blur",srcTarget:window,handler:function(n){return function(e){var n=e.el,t=e.event,i=e.handler,r=e.middleware;setTimeout(function(){var e=document.activeElement;e&&"IFRAME"===e.tagName&&!n.contains(e)&&u({event:t,handler:i,middleware:r})},0)}({el:e,event:n,handler:i,middleware:a})},capture:c};e[r]=[].concat(e[r],[l])}e[r].forEach(function(n){var t=n.event,i=n.srcTarget,a=n.handler;return setTimeout(function(){e[r]&&i.addEventListener(t,a,c)},0)})}}function l(e){(e[r]||[]).forEach(function(e){return e.srcTarget.removeEventListener(e.event,e.handler,e.capture)}),delete e[r]}var f=((n={})[e.isVue3?"beforeMount":"bind"]=c,n[t]=function(e,n){var t=n.value,i=n.oldValue;JSON.stringify(t)!==JSON.stringify(i)&&(l(e),c(e,{value:t}))},n[i]=l,n),v=a?f:{};return{install:function(e){e.directive("click-outside",v)},directive:v}});
//# sourceMappingURL=v-click-outside.umd.js.map
